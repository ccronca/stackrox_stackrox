{
  "swagger": "2.0",
  "info": {
    "title": "api/v1/integration_health_service.proto",
    "version": "version not set"
  },
  "tags": [
    {
      "name": "IntegrationHealthService"
    }
  ],
  "consumes": [
    "application/json"
  ],
  "produces": [
    "application/json"
  ],
  "paths": {
    "/v1/integrationhealth/declarativeconfigs": {
      "get": {
        "operationId": "IntegrationHealthService_GetDeclarativeConfigs",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1GetIntegrationHealthResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/googlerpcStatus"
            }
          }
        },
        "tags": [
          "IntegrationHealthService"
        ]
      }
    },
    "/v1/integrationhealth/externalbackups": {
      "get": {
        "operationId": "IntegrationHealthService_GetBackupPlugins",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1GetIntegrationHealthResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/googlerpcStatus"
            }
          }
        },
        "tags": [
          "IntegrationHealthService"
        ]
      }
    },
    "/v1/integrationhealth/imageintegrations": {
      "get": {
        "operationId": "IntegrationHealthService_GetImageIntegrations",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1GetIntegrationHealthResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/googlerpcStatus"
            }
          }
        },
        "tags": [
          "IntegrationHealthService"
        ]
      }
    },
    "/v1/integrationhealth/notifiers": {
      "get": {
        "operationId": "IntegrationHealthService_GetNotifiers",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1GetIntegrationHealthResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/googlerpcStatus"
            }
          }
        },
        "tags": [
          "IntegrationHealthService"
        ]
      }
    },
    "/v1/integrationhealth/vulndefinitions": {
      "get": {
        "operationId": "IntegrationHealthService_GetVulnDefinitionsInfo",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1VulnDefinitionsInfo"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/googlerpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "component",
            "in": "query",
            "required": false,
            "type": "string",
            "enum": [
              "SCANNER",
              "SCANNER_V4"
            ],
            "default": "SCANNER"
          }
        ],
        "tags": [
          "IntegrationHealthService"
        ]
      }
    }
  },
  "definitions": {
    "VulnDefinitionsInfoRequestComponent": {
      "type": "string",
      "enum": [
        "SCANNER",
        "SCANNER_V4"
      ],
      "default": "SCANNER"
    },
    "googlerpcStatus": {
      "type": "object",
      "properties": {
        "code": {
          "type": "integer",
          "format": "int32"
        },
        "message": {
          "type": "string"
        },
        "details": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/protobufAny"
          }
        }
      }
    },
    "protobufAny": {
      "type": "object",
      "properties": {
        "@type": {
          "type": "string"
        }
      },
      "additionalProperties": {}
    },
    "storageIntegrationHealth": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "title": "@gotags: sql:\"pk\""
        },
        "name": {
          "type": "string"
        },
        "type": {
          "$ref": "#/definitions/storageIntegrationHealthType"
        },
        "status": {
          "$ref": "#/definitions/storageIntegrationHealthStatus"
        },
        "errorMessage": {
          "type": "string"
        },
        "lastTimestamp": {
          "type": "string",
          "format": "date-time",
          "title": "Timestamp when the status was ascertained"
        }
      }
    },
    "storageIntegrationHealthStatus": {
      "type": "string",
      "enum": [
        "UNINITIALIZED",
        "UNHEALTHY",
        "HEALTHY"
      ],
      "default": "UNINITIALIZED"
    },
    "storageIntegrationHealthType": {
      "type": "string",
      "enum": [
        "UNKNOWN",
        "IMAGE_INTEGRATION",
        "NOTIFIER",
        "BACKUP",
        "DECLARATIVE_CONFIG"
      ],
      "default": "UNKNOWN"
    },
    "v1GetIntegrationHealthResponse": {
      "type": "object",
      "properties": {
        "integrationHealth": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/storageIntegrationHealth"
          }
        }
      }
    },
    "v1VulnDefinitionsInfo": {
      "type": "object",
      "properties": {
        "lastUpdatedTimestamp": {
          "type": "string",
          "format": "date-time"
        }
      }
    }
  }
}
