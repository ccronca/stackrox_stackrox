{
  "swagger": "2.0",
  "info": {
    "title": "api/v1/administration_usage_service.proto",
    "version": "version not set"
  },
  "tags": [
    {
      "name": "AdministrationUsageService"
    }
  ],
  "consumes": [
    "application/json"
  ],
  "produces": [
    "application/json"
  ],
  "paths": {
    "/v1/administration/usage/secured-units/current": {
      "get": {
        "summary": "GetCurrentSecuredUnitsUsage returns the current secured units usage\nmetrics values.",
        "description": "The secured units metrics are collected from all connected clusters every\n5 minutes, so the returned result includes data for the connected\nclusters accurate to about these 5 minutes, and potentially some outdated\ndata for the disconnected clusters.",
        "operationId": "AdministrationUsageService_GetCurrentSecuredUnitsUsage",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1SecuredUnitsUsageResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "tags": [
          "AdministrationUsageService"
        ]
      }
    },
    "/v1/administration/usage/secured-units/max": {
      "get": {
        "summary": "GetMaxSecuredUnitsUsage returns the maximum, i.e. peak, secured units\nusage observed during a given time range, together with the time when\nthis maximum was aggregated and stored.",
        "description": "The usage metrics are continuously collected from all the connected\nclusters. The maximum values are kept for some period of time in memory,\nand then, periodically, are stored to the database.\nThe last data from disconnected clusters are taken into account.",
        "operationId": "AdministrationUsageService_GetMaxSecuredUnitsUsage",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1MaxSecuredUnitsUsageResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "from",
            "in": "query",
            "required": false,
            "type": "string",
            "format": "date-time"
          },
          {
            "name": "to",
            "in": "query",
            "required": false,
            "type": "string",
            "format": "date-time"
          }
        ],
        "tags": [
          "AdministrationUsageService"
        ]
      }
    }
  },
  "definitions": {
    "protobufAny": {
      "type": "object",
      "properties": {
        "@type": {
          "type": "string"
        }
      },
      "additionalProperties": {}
    },
    "rpcStatus": {
      "type": "object",
      "properties": {
        "code": {
          "type": "integer",
          "format": "int32"
        },
        "message": {
          "type": "string"
        },
        "details": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/protobufAny"
          }
        }
      }
    },
    "v1MaxSecuredUnitsUsageResponse": {
      "type": "object",
      "properties": {
        "maxNodesAt": {
          "type": "string",
          "format": "date-time"
        },
        "maxNodes": {
          "type": "string",
          "format": "int64"
        },
        "maxCpuUnitsAt": {
          "type": "string",
          "format": "date-time"
        },
        "maxCpuUnits": {
          "type": "string",
          "format": "int64"
        }
      },
      "description": "MaxSecuredUnitsUsageResponse holds the maximum values of the secured nodes\nand CPU Units (as reported by Kubernetes) with the time at which these\nvalues were aggregated, with the aggregation period accuracy (1h)."
    },
    "v1SecuredUnitsUsageResponse": {
      "type": "object",
      "properties": {
        "numNodes": {
          "type": "string",
          "format": "int64"
        },
        "numCpuUnits": {
          "type": "string",
          "format": "int64"
        }
      },
      "description": "SecuredUnitsUsageResponse holds the values of the currently observable\nadministration usage metrics."
    }
  }
}
