// Code originally generated by pg-bindings generator. DO NOT EDIT.
package postgres

import (
	"context"

	v1 "github.com/stackrox/rox/generated/api/v1"
	"github.com/stackrox/rox/pkg/postgres"
	search "github.com/stackrox/rox/pkg/search"
	pgSearch "github.com/stackrox/rox/pkg/search/postgres"
)

// NewIndexer returns new indexer for `storage.ReportConfiguration`.
func NewIndexer(db postgres.DB) *indexerImpl {
	return &indexerImpl{
		db: db,
	}
}

type indexerImpl struct {
	db postgres.DB
}

func (b *indexerImpl) Count(ctx context.Context, q *v1.Query) (int, error) {
	return pgSearch.RunCountRequest(ctx, v1.SearchCategory_REPORT_CONFIGURATIONS, q, b.db)
}

func (b *indexerImpl) Search(ctx context.Context, q *v1.Query) ([]search.Result, error) {
	return pgSearch.RunSearchRequest(ctx, v1.SearchCategory_REPORT_CONFIGURATIONS, q, b.db)
}
